(()=>{"use strict";class e{constructor(){}checkUsername(e){let t=!0,o="账号格式正确";return e||(t=!1,o="账号不能为空"),{bool:t,msg:o}}checkPwd(e){let t=!0,o="账号格式正确";return e.length<6&&(t=!1,o="密码长度不能小于6位"),{bool:t,msg:o}}checkRegisterPwd(e,t){let o=!0,l="账号格式正确";return e.length<6?(o=!1,l="密码长度不能小于6位"):e!==t&&(o=!1,l="输入的两次密码不一致"),{bool:o,msg:l}}checkResetPwd(e,t){let o=!0,l="账号格式正确";return(e.length<6||t.length<6)&&(o=!1,l="密码长度不能小于6位"),{bool:o,msg:l}}checkRegister(e,t,o){let{bool:l,msg:s}=this.checkUsername(e);if(l){let e=this.checkRegisterPwd(t,o);l=e.bool,s=e.msg,l&&(s="账号密码正常")}return{bool:l,msg:s}}checkLogin(e,t){let{bool:o,msg:l}=this.checkUsername(e);if(o){let e=this.checkPwd(t);o=e.bool,l=e.msg,o&&(l="账号密码正常")}return{bool:o,msg:l}}checkReset(e,t,o){let{bool:l,msg:s}=this.checkUsername(e);if(l){let e=this.checkResetPwd(t,o);l=e.bool,s=e.msg,l&&(s="账号密码检测正常")}return{bool:l,msg:s}}hintAnimate(e,t){e.style.opacity=1,e.style.top="50px",e.innerHTML=t,setTimeout((()=>{e.style.top="0px",e.style.opacity=0}),2e3)}}console.log(e);let t=document.querySelector("form"),o=document.querySelector("#username"),l=document.querySelector("#password"),s=document.querySelector(".hint"),c=document.querySelector(".submit");console.log(t),console.log(o),console.log(l),console.log(c),c.addEventListener("click",(function(){let t=new e;console.log(t);let c=o.value,n=l.value,r=t.checkLogin(c,n);if(console.log(r),r.bool){let e="http://127.0.0.1:9000";axios.post(e+"/user/login",{username:c,password:n},{headers:{"content-type":"application/x-www-form-urlencoded"}}).then((e=>{t.hintAnimate(s,e.data.msg)})).catch((()=>{t.hintAnimate(s,"服务器异常")}))}else t.hintAnimate(s,r.msg)}))})();